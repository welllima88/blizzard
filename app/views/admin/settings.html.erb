<div class="row header">
	<div class="col-xs-12 col-sm-8"><h4 class="productTitle">Account Settings</h4></div>
	<div class="col-xs-12 col-sm-4">
		<div class="btn-group pull-right">
			<a href="/admin/edit_settings" class="btn btn-primary"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit Settings</a>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-8 col-md-12">
		<h3 class="text-left">Company Information</h3>
		<div class="row">
			<div class="col-sm-12 form-group">
				<div class="input-group"><span class="input-group-addon">Company Name</span><%= text_field(:company, :company_name, :class => 'form-control', :disabled => true)%></div>
			</div>
		</div>
		
		<!-- First Line -->
		<div class="row">
			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">Phone</span><%= text_field(:company, :company_phone, :class => 'form-control', :disabled => true)%></div>
			</div>

			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">Email</span><%= text_field(:company, :company_email, :class => 'form-control', :disabled => true)%></div>
			</div>

			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">Fax</span><%= text_field(:company, :company_fax, :class => 'form-control', :disabled => true)%></div>
			</div>
		</div>
		
		<!-- Second Line -->
		<div class="row top-buffer">
			<div class="col-sm-8 form-group">
				<div class="input-group"><span class="input-group-addon">Address</span><%= text_field(:company, :company_address, :class => 'form-control', :disabled => true)%></div>
			</div>
			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">Line 2</span><%= text_field(:company, :company_address2, :class => 'form-control', :disabled => true)%></div>
			</div>

			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">City</span><%= text_field(:company, :company_city, :class => 'form-control', :disabled => true)%></div>
			</div>
			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">State</span><%= text_field(:company, :company_state, :class => 'form-control', :disabled => true)%></div>
			</div>
			<div class="col-sm-4 form-group">
				<div class="input-group"><span class="input-group-addon">Postal Code</span><%= text_field(:company, :company_zip, :class => 'form-control', :disabled => true)%></div>
			</div>
			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Country</span><%= text_field(:company, :company_country, :class => 'form-control', :disabled => true)%></div>
			</div>
			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Timezone</span><%= text_field(:company, :company_timezone, :class => 'form-control', :disabled => true)%></div>
			</div>
		</div>
		
		<h3 class="text-left">Customer Loyalty Settings</h3>
		<!-- First Line -->
		<div class="row">
			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Enable Points System</span><%= text_field(:company, :company_phone, :class => 'form-control', :value => ['Off', 'On'][@company.enable_points], :disabled => true)%></div>
			</div>

			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Point Value</span><%= text_field(:company, :point_value, :class => 'form-control', :disabled => true)%></div>
			</div>

			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Point Payout</span><%= text_field(:company, :point_payout, :class => 'form-control', :disabled => true)%></div>
			</div>
			
			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Certificate Valid Length</span><%= text_field(:company, :point_half_life, :class => 'form-control', :disabled => true)%></div>
			</div>
		</div>
		
		
		<h3 class="text-left">Commission Settings</h3>
		<!-- First Line -->
		<div class="row">
			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Enable Commission</span><%= text_field(:company, :company_phone, :class => 'form-control', :value => ['Off', 'On'][@company.enable_commission], :disabled => true)%></div>
			</div>

			<div class="col-sm-6 form-group">
				<div class="input-group"><span class="input-group-addon">Default Commission</span><%= text_field(:company, :default_commission, :class => 'form-control', :disabled => true)%></div>
			</div>
		</div>
		
		
		<h3 class="text-left">Domain Mapping</h3>
		<%= form_tag(:action => 'mapDomain') do %>
		
			<script type="text/javascript" charset="utf-8">
			
				function setRegisters(){
					$('.domainRegister').css("display", "none");
					$('#reg_'+$("select#domain_map_store_id").val()).css("display", "block");
				}
			
			</script>
		
			<div class="row">
				<div class="col-sm-4 form-group">
					<div class="input-group"><span class="input-group-addon">Domain</span><%= text_field(:domain_map, :url, :class => 'form-control')%></div>
				</div>
				<div class="col-sm-4 form-group">
					<div class="input-group">
						<span class="input-group-addon">Store</span>
						<select id="domain_map_store_id" name="domain_map[store_id]" onchange="setRegisters()" class="form-control">
							<option value="">No Store Selected</option>
							<% for s in @stores %>
							<option value="<%= s.id %>"><%= s.name %></option>
							<% end %>
						</select>
					</div>
				</div>
				<div class="col-sm-4 form-group">
					<div class="input-group">
						<span class="input-group-addon">Register</span>
						<input type="text" name="register_placeholder" class="domainRegister form-control" value="Select Store" id="register_placeholder" disabled>
						<% @registers.group_by(&:store_id).each do |store, registers| %>
						<div style="display:none;" class="domainRegister" id="reg_<%= store %>">
							<select id="domain_map_register_id" name="domain_map[register_id]" class="form-control">
								<option value="">Dont Map To Register</option>
								<% for r in registers %>
								<option value="<%= r.id %>"><%= r.name %></option>
								<% end %>
							</select>
						</div>
						<% end %>
					</div>
				</div>
				<div class="col-sm-12 text-right"><%= submit_tag("Add Map", :class => 'btn btn-primary')%></div>
			</div>
			<div class="row top-buffer">
				<div class="col-sm-12">
					<table class="table">
						<tr>
							<th>Domain</td>
							<th>Store</td>
							<th>Register</td>
							<th></td>
						</tr>
						<% for d in @domains %>
						<tr>
							<td class="row"><%= d.url %></td>
							<td class="row"><%= Store.find(d.store_id).name unless d.store_id.blank? %></td>
							<td class="row"><%= Register.find(d.register_id).name unless d.register_id.blank? %></td>
							<td class="row" style="text-align:center;width:100px;"><a href="/admin/deleteDomainMap/<%= d.id %>" class="buttons icon remove danger">Delete</a></td>
						</tr>
						<% end %>
					</table>
				</div>
			</div>
		<% end %>
		
		
	</div>
	<div class="col-lg-4 col-md-12">
		<p>
			<h3>Settings Help</h3>
		</p>
		<p>
			<strong>Customer Loyalty</strong><br>
			The customer loyalty system is designed to entice users to become repeat customers. When the points system is enabled, customers receive 1 point for every dollar they spend. Once the customer has obtained the minimum number of points required for a voucher, a gift certificate is generated for them in an amount based on the points value set by you.<br><br>
			The points system has 3 custom values, Point Value, Point Payout, and Certificate Valid Length. <br><br>
			The Point Value allows you to set what each point will be worth in dollars. By default we set this to $0.05. For a customer who purchases $100 in merchandise, their customer reward certificate will be worth $5.00.<br><br>
			
		</p>
		<p>
			<strong>Commission Settings</strong><br>
			Evendra allows you to allow your employees to earn commission for the products they sell. When the commission module is enabled, all employees will automatically receive the default commission rate. You can additionally set individual commission amounts per employee in the employee settings. If an employee commission rate is blank, Evendra will automatically use the default commission rate here.
		</p>
		
		<p>
			<strong>Domain Mapping</strong><br>
			Domain mapping lets you create your own custom subdomain (on your own domain) and map it to your company, store or register directly. This makes it easy for your employees to login without having to remember your company id.<br><br>
			
			For example if you create the fallowing subdomain: pos.yourdomain.com and map it to your company, you will no longer have to enter the company ID when login in.
			If you map the domain to a store, when log in in, you will not have to input the company id or select a store.<br><br>
			
			You also have the ability to create chained subdomains and map them as such:<br>
			pos.yourdomain.com >> maps to your company<br>
			store1.pos.yourdomain.com >> maps to your company & store<br>
			frontregister.store1.pos.yourdomain.com >> maps to your company, store, and your front register.<br>
		</p>
	</div>
</div>